model Comment {
  comment_id String @id @default(uuid())
  content    String @db.Text

  authorId String
  post_id  String
  post     Post   @relation(fields: [post_id], references: [post_id], onDelete: Cascade)

  // Self relation (comment reply system)
  parentId String?
  parent   Comment?  @relation("CommentsReplies", fields: [parentId], references: [comment_id], onDelete: Cascade)
  replies  Comment[] @relation("CommentsReplies")

  status CommentStatus @default(APPROVED)

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  @@index([post_id])
  @@index([authorId])
  @@map("comments")
}

enum CommentStatus {
  APPROVED
  REJECT
}
